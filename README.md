# Forge - Инструмент для Оркестрации Сред Разработки

![Статус проекта](https://img.shields.io/badge/status-в%20разработке-yellow)
![Go version](https://img.shields.io/badge/go-1.18+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

Forge — это инструмент командной строки, созданный для упрощения управления локальными средами разработки. Он использует Docker для запуска контейнеров, но добавляет поверх этого умную логику и управление состоянием, чтобы сделать процесс более предсказуемым и надежным, чем использование обычных скриптов.

## Ключевые особенности

-   **Архитектура Клиент-Демон**: Легковесный клиент `forge` общается с фоновым демоном `forged` по gRPC. Ваше окружение продолжает жить, даже если вы закрыли терминал.
-   **Управление состоянием**: Forge отслеживает все созданные ресурсы (контейнеры, сети) в локальной базе данных SQLite. Команда `forge down` чисто удаляет всё, что было создано, не оставляя мусора в системе.
-   **Декларативная конфигурация**: Всё окружение описывается в одном простом `forge.yaml` файле.
-   **Простота и фокус**: Forge нацелен на решение одной задачи — оркестрации локальной разработки на Docker. Он проще и легче в освоении, чем тяжеловесные системы для Kubernetes (вроде Skaffold или Tilt).
-   **Расширяемость**: Написан на Go, что позволяет легко добавлять любую сложную логику оркестрации (например, клонирование git-репозиториев, запуск health-check'ов и т.д.).

## Текущий статус: Альфа (v0.2.0)

Проект находится в активной разработке.

**Что уже работает:**
-   [x] Запуск демона `forged`.
-   [x] Чтение и парсинг `forge.yaml`.
-   [x] Команда `forge up` для запуска контейнеров из секции `databases`.
-   [x] Команда `forge down [appName]` для полной остановки и удаления созданного окружения.
-   [x] Сохранение и удаление состояния ресурсов в `~/.forge/forge.db`.
-   [x] Цветной вывод логов для удобства чтения.

**Что в планах (Roadmap):**
-   [ ] Реализация оркестрации для секции `services` (сборка Dockerfile из git-репозиториев).
-   [ ] Создание выделенной Docker-сети для каждого приложения.
-   [ ] Реализация логики `dependsOn` с проверками доступности сервисов.
-   [ ] Команда `forge status` для отображения запущенных окружений.

## Установка и запуск

### Требования
1.  **Go** (версия 1.18 или выше).
2.  **Docker** (установленный и запущенный).

### Сборка
1.  Склонируйте репозиторий.
2.  Соберите бинарные файлы клиента и демона:
    ```bash
    # Сборка демона
    go build -o forged ./cmd/forged

    # Сборка клиента
    go build -o forge ./cmd/forge
    ```
3.  Для удобства переместите клиент `forge` в директорию, которая находится в вашем `PATH`. Например, для Linux или macOS:
    ```bash
    sudo mv ./forge /usr/local/bin/
    ```

### Запуск
1.  **Запустите демона** в отдельном окне терминала (или как фоновый сервис):
    ```bash
    ./forged
    ```
    Вы должны увидеть: `Демон 'forged' запущен на порту :9001...`

2.  **Создайте конфигурационный файл** `forge.yaml` в директории вашего проекта:
    ```yaml
    version: 1
    appName: my-awesome-app
    databases:
      - name: main-db
        type: "postgres"
        version: "15"
        port: 54321
    ```

3.  **Используйте Forge!**
    ```bash
    # Запустить окружение
    forge up

    # Остановить и удалить окружение
    forge down my-awesome-app
    ```

## Лицензия
Распространяется под лицензией MIT. Смотрите файл `LICENSE` для подробностей.